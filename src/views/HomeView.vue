<template>
  <div class="w-full max-w-3xl mx-auto bg-white p-8 rounded-lg shadow-md">
    <!-- å¤´éƒ¨åŒºåŸŸ -->
    <header class="flex flex-col items-center justify-center py-4">
      <img src="@/assets/favicon.png" alt="ML å›¾æ ‡" class="w-28 h-28" />
      <h1 class="text-3xl font-bold mt-4">LYJçš„åšå®¢</h1>
      <p class="text-gray-500 text-sm mt-1">æ¬¢è¿æ¥åˆ°æˆ‘çš„ä¸ªäººåšå®¢ç«™ç‚¹</p>
      <p class="text-gray-500 text-sm mt-1">343577362@qq.com</p>
    </header>

    <!-- åšå®¢åˆ—è¡¨ -->
    <section class="py-6">
      <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-semibold flex items-center gap-2">ğŸ“š åšå®¢æ–‡ç« åˆ—è¡¨</h2>
        <router-link
          to="/create"
          class="bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded"
        >
          â• å‘å¸ƒæ–°æ–‡ç« 
        </router-link>
      </div>

      <div class="space-y-4">
        <div
          v-for="post in posts"
          :key="post.id"
          class="border rounded-lg p-4 hover:shadow-md transition-shadow"
        >
          <router-link
            :to="`/post/${post.id}`"
            class="text-lg font-semibold text-blue-700 hover:underline"
          >
            {{ post.title }}
          </router-link>
          <p class="text-gray-500 text-sm mt-1">æ–‡ç«  IDï¼š{{ post.id }}</p>
        </div>
      </div>
    </section>
  </div>
</template>

<script setup lang="ts">
import { ref, onMounted } from 'vue'
import axios from 'axios'

const posts = ref([])

onMounted(async () => {
  const res = await axios.get('http://127.0.0.1:8000/api/posts/')
  posts.value = res.data
})
</script>


